define("local_adaptive_course_audit/tour_launcher",["exports","tool_usertours/usertours"],(function(_exports,_usertours){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{const id=(()=>{const urlParams=new URLSearchParams(window.location.search),raw=urlParams.get("startacatour");if(!raw)return null;const parsed=parseInt(raw,10);if(isNaN(parsed)||parsed<=0)return null;urlParams.delete("startacatour");const search=urlParams.toString(),cleaned=window.location.pathname+(search?"?"+search:"")+window.location.hash;return window.history.replaceState(null,"",cleaned),parsed})();if(!id)return;const isModEdit=-1!==window.location.pathname.indexOf("/course/modedit.php");window.setTimeout((()=>{try{isModEdit&&"function"==typeof window.require&&window.setTimeout((()=>{window.require(["local_adaptive_course_audit/modedit_expander"],(expander=>{try{expander&&"function"==typeof expander.init&&expander.init()}catch(error){window.console.error("[ACA tour_launcher] Expander error",error)}}))}),1500),(0,_usertours.init)([{tourId:id,startTour:!0,filtervalues:{cssselector:[]}}],["tool_usertours/filter_cssselector"])}catch(error){window.console.error("[ACA tour_launcher] Failed to start tour",error)}}),500)}}));

//# sourceMappingURL=tour_launcher.min.js.map